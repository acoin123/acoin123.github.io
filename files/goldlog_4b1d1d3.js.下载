!function(o,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):o.Goldlog=e()}(this,function(){function o(){for(var o=[].slice.call(arguments),e=o[0]||{},n=1;n<o.length;n++){var t=o[n];if(t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}return e}function e(o){c[0].length||(c=r());var e=o.spm;"string"==typeof e?o.spm=c.concat([o.spm]).join("."):e instanceof Array&&(o.spm=r().concat(e).join("."))}function n(o){var e=[];o=o||{};for(var n in o)o.hasOwnProperty(n)&&e.push(n+"="+encodeURIComponent(o[n]));return e.length?e.join("&"):""}function t(o,e,t){if(!o)return void console.error("logkey is empty, please check...");var r=t;"object"==typeof r&&(r=n(r));var i=r.length>2e3?"POST":"GET";if(window.goldlog)window.goldlog.record(o,e,r,i);else{var c=window.goldlog_queue||(window.goldlog_queue=[]);c.push({action:"goldlog.record",arguments:[o,e,r,i]})}}function r(){if(window.goldlog)return window.goldlog.spm_ab;spmaMeta=document.querySelector('meta[name="spm-id"]')||document.querySelector('meta[name="data-spm"]');var o=spmaMeta&&spmaMeta.getAttribute("content")||"",e=document.body&&document.body.getAttribute("data-spm")||"";return o&&e?[o,e]:c}var i={},c=["0","0"],u=function(e){o(i,e||{})},a=function(n,r){r.spm&&e(r),t(n,"CLK",o({},i,r))},d=function(n,r){r.spm&&e(r),t(n,"SLD",o({},i,r))},l=function(n,r){r.spm&&e(r),t(n,"EXP",o({},i,r))},s=function(n,r){r.spm&&e(r),t(n,"OTHER",o({},i,r))};return function(){return{init:u,click:a,scroll:d,exp:l,other:s}}}());