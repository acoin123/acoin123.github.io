!function(){"use strict";function t(t){var e;return null==t?e=String(t):(e=Object.prototype.toString.call(t).toLowerCase(),e=e.substring(8,e.length-1)),e}function e(t,e){var r=!1;return e.forEach(function(e){t===e&&(r=!0)}),r}function r(e){var r,n=Object.prototype.hasOwnProperty;if(!e||"object"!==t(e))return!1;if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1;for(r in e);return void 0===r||n.call(e,r)}function n(){var e,o,a,i,c,s,u=arguments[0]||{},p=1,l=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=arguments[1]||{},p=2),"object"!=typeof u&&"function"!==t(u)&&(u={}),l===p&&(u=this,--p);l>p;p++)if(null!=(e=arguments[p]))for(o in e)a=u[o],i=e[o],u!==i&&(f&&i&&(r(i)||(c="array"===t(i)))?(c?(c=!1,s=a&&"array"===t(a)?a:[]):s=a&&r(a)?a:{},u[o]=n(f,s,i)):void 0!==i&&(u[o]=i));return u}function o(t,e){var r,n=[];for(var o in t)t.hasOwnProperty(o)&&n.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return r=n.join("&").replace(/%20/g,"+"),"string"==typeof e&&(r=e+(r.length>0?(e.indexOf("?")<0?"?":"&")+r:"")),r}function a(t,e){var r=new Image;e=n({_tm:new Date-0},e),r.src=o(e,t)}function i(t,e,r){var n=new Date,o=r;n.setTime(n.getTime()+24*o*3600*1e3),document.cookie=t+"="+e+";expires="+n.toGMTString()}function c(t){for(var e,r=document.cookie.replace(/[ ]/g,""),n=r.split(";"),o=0;o<n.length;o++){var a=n[o].split("=");if(t===a[0]){e=a[1];break}}return e}function s(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function u(t){var e=Object.keys(t),r=[];return e.forEach(function(e){r.push(e+"="+t[e])}),r.join("&")}var p=function(){var t=this;t.ua=window.navigator.userAgent,t.ucParams=lego.options.ucParams||{},t.statUrl="http://track.uc.cn:9080/collect?uc_param_str=dnfrcpventnieids&",t.comStat={client_type:t.getClientType()},p=function(){return t}};p.prototype.getClientType=function(){return this.isUCBrowser()?1:this.isUCNewsApp()?2:this.isWeiXin()?3:""},p.prototype.isWeiXin=function(){return/micromessenger/i.test(this.ua)},p.prototype.isUCBrowser=function(){return"UCMobile"===this.ucParams.pr||/ucbrowser/i.test(this.ua)},p.prototype.isUCNewsApp=function(){return"UCNewsApp"===this.ucParams.pr||/UCNewsApp/i.test(this.ua)},p.prototype.isUC=function(){return!!(window.ucweb||window.ucbrowser||"android"===this.ucParams.fr||"iphone"===this.ucParams.fr||/ucbrowser|UCNewsApp/i.test(this.ua))},p.prototype.setComStat=function(t){var e=this;e.comStat=n(e.comStat,t),e.comStat.uuid||(e.comStat.uuid=e.getUnUCUid())},p.prototype.getUnUCUid=function(){var t=location.hostname+"_uid",e="";try{localStorage.getItem(t)||localStorage.setItem(t,s()),e=localStorage.getItem(t)}catch(r){c(t)||i(t,s(),360),e=c(t)}return e},p.prototype.pvStat=function(t){var e=this;t||(t={}),t.lt="log";var r=u(n(t,e.comStat));a(e.statUrl+r)},p.prototype.clickStat=function(t){var e=this;t||(t={}),t.lt="link";var r=u(n(t,e.comStat));console.log(e.statUrl+r),a(e.statUrl+r)},p.prototype.eventStat=function(t){var e=this;t=t||{},t.lt="event",t.e_c="行为统计",t.e_a="touch";var r=u(n(t,e.comStat));a(e.statUrl+r)},p.prototype.getUrlParam=function(t,e){var r=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=e?e.substr(e.indexOf("?")+1).match(r):window.location.search.substr(1).match(r);return null!==n?window.decodeURIComponent(n[2]):null},window.waStat||(window.waStat=new p),document.addEventListener("click",function(t){for(var r=t.target;r&&r.tagName&&"a"!==r.tagName.toLowerCase();)r=r.parentNode;if(r&&r.href)try{t.preventDefault();var n=r.href,o="true"===r.dataset.wa;if(o){var a={};if(/^ext:/.test(r.href)){var i=n.substring(0,n.indexOf(":http")),c=i.split("-"),s=c[1].split("*");a={fcid:s[0],cid:s[1],pox:3===s.length?s[2]:"",uid:"U"===c[2].substring(0,1).toUpperCase()?c[2].substring(1):"",nid:"N"===c[2].substring(0,1).toUpperCase()?c[2].substring(1):"",title:r.title}}else a=window.waStat.getUrlParam("fcid",r.href)?{fcid:window.waStat.getUrlParam("fcid",r.href),cid:window.waStat.getUrlParam("cid",r.href),nid:window.waStat.getUrlParam("nid",r.href)||"",uid:window.waStat.getUrlParam("uid",r.href)||"",title:r.title}:{title:r.title||""};var u=Object.keys(r.dataset);for(var p in r.dataset)e(p,u)&&p.match(/^wa_/)&&(a[p.replace("wa_","")]=r.dataset[p]);window.waStat.clickStat(a)}window.waStat.isUCBrowser()||(n=n.replace(/^.*?(https?:\/\/)/i,"$1")),o?setTimeout(function(){window.location.href=n},200):window.location.href=n}catch(t){return void console.error(t.message)}},!1)}();