!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=16)}([function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(1);class a{constructor(t){return this.options=t,this.interval=t.interval||5e3,this._running=!1,_.defaults(this,n.a.prototype),this}stop(){window.clearInterval(this._rid)}run(){this._running||(this._running=!0,this._run(),this.interval>0?this._rid=window.setInterval(this._run.bind(this),this.interval):this._running=!1)}_run(){$.when($.ajax(this.options)).then(this.request_success.bind(this),this.request_fail.bind(this))}request_success(t){this.emit("data_arrive",t)}request_fail(t){this.emit("request_fail",t)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});const n=function(){};n.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function a(){n.off(t,a),e.apply(i,arguments)}return a._=e,this.on(t,a,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,a=i.length;n<a;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],a=[];if(n&&e)for(var r=0,s=n.length;r<s;r++)n[r].fn!==e&&n[r].fn._!==e&&a.push(n[r]);return a.length?i[t]=a:delete i[t],this}}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{constructor(t){this.dictionary=t}update(t){return this.old=this.data,this.data=t,this}filter_data(t){return t}spit(){var t=this.filter_data(this.data);return _.map(t,this.handle_data.bind(this))}clean_entry(t){return t}handle_data(t){var e={};return _.map(this.dictionary,function(i,n){e[i]=t[n]}),this.clean_entry(e)}}},function(t,e,i){"use strict";var n=i(2);const a={symbol:"symbol",name:"name",price_cny:"price_cny",percent_change_1h:"percent_change_1h",last_updated:"last_updated",id:"id",percent_change_24h:"change"},r={BTC:"比特币BTC",ETH:"以太坊ETH",LTC:"莱特币LTC",XRP:"瑞波币XRP",XMR:"门罗币XMR",LSK:"Lisk LSK",BCH:"BCC BCH",ETC:"以太经典ETC",DGB:"极特币DGB",BTS:"比特股BTS",DASH:"达世币DASH",ZEC:"Zcash ZEC",SC:"细亚币SC",XLM:"恒星币XLM",ZRX:"0x ZRX",NAV:"NAVCoin NAV",DOGE:"狗狗币DOGE",SYS:"系统币SYS",NXT:"未来币NXT",BURST:"爆裂币BURST",GAME:"游戏点GAME",PINK:"Pinkcoin PINK",VRC:"维理币VRC",LBC:"LBRY Credits LBC",ARDR:"阿朵ARDR",RADS:"Radium RADS",EXP:"Expanse EXP",VTC:"绿币VTC",AMP:"Synereo AMP AMP",FLDC:"FoldingCoin FLDC",XBC:"BitcoinPlus XBC",SJCX:"Storjcoin X SJCX",POT:"PotCoin POT",PASC:"PascalCoin PASC",XPM:"Primecoin XPM",XCP:"Counterparty XCP",FLO:"Florincoin FLO",BELA:"Bela BELA",RIC:"Riecoin RIC",EMC2:"锿币EMC2",NMC:"域名币NMC",NOTE:"DNotes NOTE",OMNI:"奥妙币OMNI",BTM:"Bitmark BTM",NAUT:"Nautiluscoin NAUT",GRC:"格雷德币GRC",BCY:"BitCrystals BCY",XVC:"Vcash XVC",HUC:"猎手币HUC",BLK:"黑币BLK",PPC:"点点币PPC",BBT:"Brickblock BBT",XCP:"合约币XCP",IOTA:"埃欧塔IOTA",XEM:"新经币XEM",EMC:"崛起币EMC",PUT:"普京币PUT",EAC:"地球币EAC",XCN:"氪石币XCN",MGC:"众合币MGC",ZCC:"招财币ZCC",XPM:"质数币XPM",NCS:"资产股NCS",YBC:"元宝币YBC",MEC:"美卡币MEC",NEO:"小蚁股NEO",MCC:"行云币MCC",FZ:"冰河币FZ",TFC:"传送币TFC",YTC:"一号币YTC",ZET:"泽塔币ZET",GOOC:"谷壳币GOOC",MTC:"猴宝币MTC",WDC:"世界币WDC",PLC:"保罗币PLC",SKT:"鲨之信SKT",MRYC:"美人鱼币MRYC",LKC:"幸运币LKC",DNC:"安网币DNC",IFC:"无限币IFC",PEB:"普银PEB",XZC:"零币XZC",DACRS:"智能坊DACRS",INF:"讯链币INF",ICS:"小企股ICS",HLB:"活力币HLB",VASH:"薇币VASH"};i.d(e,"a",function(){return s});class s extends n.a{constructor(){super(a)}filter_data(t){return _.filter(t,this._filter.bind(this))}_filter(t){return _.contains(_.keys(r),t.symbol)}get_change_class(t){var e=0;try{NaN==(e=parseFloat(t.change))&&(e=0)}catch(t){}return e<0?"fall":"raise"}get_cnname(t){return r[t.symbol]?r[t.symbol]:t.symbol}get_change_percent(t){var e=parseFloat(t);return e>0?"+"+e+"%":e+"%"}clean_entry(t){return t.change_class=this.get_change_class(t),t.name_cn=this.get_cnname(t),t.change_percent=this.get_change_percent(t.change),t.price_cny="¥"+Math.round(parseFloat(100*t.price_cny))/100,t}}},function(t,e,i){"use strict";class n{constructor(t){if(this.$el=this.get_el(),this.$el.length){if(this.template=this.get_template(),!t.feed)throw Error("can not init a price app without a feed");if(this.dataFeed=t.feed,this.dataFeed.on("data_arrive",this.handle_data.bind(this)),this.dataFeed.on("data_fail",this.handle_fail.bind(this)),!t.adapter)throw Error("need adapter to goon");this.adapter=t.adapter}}get_el(){return $("#header_price_list")}get_template(){return _.template($("#header_price_template").html())}handle_data(t){this.data_list=this.adapter.update(t).spit(),this.render()}handle_fail(t){console.log("price data fail"),console.log(t)}get_price_row_width(){var t=$(".navbar").width();return this.is_mobile()?t:t-200}start_marquee(){$(".price-row").css({width:this.get_price_row_width()}),$(".price-row").marquee({duplicated:!0,pauseOnHover:!0,gap:10,duration:12e3,startVisible:!0})}is_mobile(){return $(window).width()<=768}render(){_.map(this.data_list,this._render_item,this),this.running||(this.start_marquee(),this.running=!0)}_render_item(t){if((e=$("[data-symbol="+t.symbol+"]")).length)this.set_price(e,t);else{var e=$(this.template(t));this.$el.append(e),this.set_price($(e),t)}}set_price(t,e){for(var i=0,n=t.length;i<n;i++)this.set_single_price(t[i],e)}set_single_price(t,e){var i=0;try{i=parseFloat(e.change)}catch(t){}var n=e.price_cny+"&nbsp;"+e.change_percent;i>0?($(t).find(".price").removeClass("fall").addClass("raise").html(n),$(t).find("i").removeClass("fall fa-arrow-down").addClass("fa-arrow-up raise")):($(t).find(".price").removeClass("raise").addClass("fall").html(n),$(t).find("i").removeClass("fa-arrow-up raise").addClass("fall fa-arrow-down"))}}var a=i(3);const r={BTC:"比特币BTC",ETH:"以太坊ETH",LTC:"莱特币LTC",BCH:"比特现金BCC",XRP:"瑞波币XRP"};class s extends a.a{_filter(t){return _.contains(_.keys(r),t.symbol)}clean_entry(t){return(t=super.clean_entry(t)).element_id="header"+t.symbol,t.title_text=t.symbol+"/CNY","BCH"==t.symbol&&(t.title_text="BCC/CNY"),t}}class o{constructor(){console.log("in promotext"),this.element_count=6,this.current_ele_index=1,this.element_width=150,this.$ele_wrapper=$(".promo-text-list"),this.$ele_wrapper.length&&this.start_mq()}start_mq(){window.setInterval(this.marquee.bind(this),2e3)}marquee(){this.current_ele_index==this.element_count&&(this.$ele_wrapper.css({left:1*-this.element_width}),this.current_ele_index=2),this.current_ele_index+=1,this.$ele_wrapper.animate({left:-this.element_width*(this.current_ele_index-1)},500)}}i(12);class l{constructor(){$("#search-site-btn").length&&new function(t){if(document.querySelector){var e={selector:0,source:0,minChars:3,delay:150,offsetLeft:0,offsetTop:1,cache:1,menuClass:"",renderItem:function(t,e){e=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var i=new RegExp("("+e.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+t+'">'+t.replace(i,"<b>$1</b>")+"</div>"},onSelect:function(t,e,i){}};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);for(var n="object"==typeof e.selector?[e.selector]:document.querySelectorAll(e.selector),a=0;a<n.length;a++){var r=n[a];r.sc=document.createElement("div"),r.sc.className="autocomplete-suggestions "+e.menuClass,r.autocompleteAttr=r.getAttribute("autocomplete"),r.setAttribute("autocomplete","off"),r.cache={},r.last_val="",r.updateSC=function(t,i){var n=r.getBoundingClientRect();if(r.sc.style.left=Math.round(n.left+(window.pageXOffset||document.documentElement.scrollLeft)+e.offsetLeft)+"px",r.sc.style.top=Math.round(n.bottom+(window.pageYOffset||document.documentElement.scrollTop)+e.offsetTop)+"px",r.sc.style.width=Math.round(n.right-n.left)+"px",!t&&(r.sc.style.display="block",r.sc.maxHeight||(r.sc.maxHeight=parseInt((window.getComputedStyle?getComputedStyle(r.sc,null):r.sc.currentStyle).maxHeight)),r.sc.suggestionHeight||(r.sc.suggestionHeight=r.sc.querySelector(".autocomplete-suggestion").offsetHeight),r.sc.suggestionHeight))if(i){var a=r.sc.scrollTop,s=i.getBoundingClientRect().top-r.sc.getBoundingClientRect().top;s+r.sc.suggestionHeight-r.sc.maxHeight>0?r.sc.scrollTop=s+r.sc.suggestionHeight+a-r.sc.maxHeight:s<0&&(r.sc.scrollTop=s+a)}else r.sc.scrollTop=0},l(window,"resize",r.updateSC),document.body.appendChild(r.sc),d("autocomplete-suggestion","mouseleave",function(t){var e=r.sc.querySelector(".autocomplete-suggestion.selected");e&&setTimeout(function(){e.className=e.className.replace("selected","")},20)},r.sc),d("autocomplete-suggestion","mouseover",function(t){var e=r.sc.querySelector(".autocomplete-suggestion.selected");e&&(e.className=e.className.replace("selected","")),this.className+=" selected"},r.sc),d("autocomplete-suggestion","mousedown",function(t){if(o(this,"autocomplete-suggestion")){var i=this.getAttribute("data-val");r.value=i,e.onSelect(t,i,this),r.sc.style.display="none"}},r.sc),r.blurHandler=function(){try{var t=document.querySelector(".autocomplete-suggestions:hover")}catch(e){t=0}t?r!==document.activeElement&&setTimeout(function(){r.focus()},20):(r.last_val=r.value,r.sc.style.display="none",setTimeout(function(){r.sc.style.display="none"},350))},l(r,"blur",r.blurHandler);var s=function(t){var i=r.value;if(r.cache[i]=t,t.length&&i.length>=e.minChars){for(var n="",a=0;a<t.length;a++)n+=e.renderItem(t[a],i);r.sc.innerHTML=n,r.updateSC(0)}else r.sc.style.display="none"};r.keydownHandler=function(t){var i,n=window.event?t.keyCode:t.which;if((40==n||38==n)&&r.sc.innerHTML)return(a=r.sc.querySelector(".autocomplete-suggestion.selected"))?(i=40==n?a.nextSibling:a.previousSibling)?(a.className=a.className.replace("selected",""),i.className+=" selected",r.value=i.getAttribute("data-val")):(a.className=a.className.replace("selected",""),r.value=r.last_val,i=0):((i=40==n?r.sc.querySelector(".autocomplete-suggestion"):r.sc.childNodes[r.sc.childNodes.length-1]).className+=" selected",r.value=i.getAttribute("data-val")),r.updateSC(0,i),!1;if(27==n)r.value=r.last_val,r.sc.style.display="none";else if(13==n||9==n){var a;(a=r.sc.querySelector(".autocomplete-suggestion.selected"))&&"none"!=r.sc.style.display&&(e.onSelect(t,a.getAttribute("data-val"),a),setTimeout(function(){r.sc.style.display="none"},20))}},l(r,"keydown",r.keydownHandler),r.keyupHandler=function(t){var i=window.event?t.keyCode:t.which;if(!i||(i<35||i>40)&&13!=i&&27!=i){var n=r.value;if(n.length>=e.minChars){if(n!=r.last_val){if(r.last_val=n,clearTimeout(r.timer),e.cache){if(n in r.cache)return void s(r.cache[n]);for(var a=1;a<n.length-e.minChars;a++){var o=n.slice(0,n.length-a);if(o in r.cache&&!r.cache[o].length)return void s([])}}r.timer=setTimeout(function(){e.source(n,s)},e.delay)}}else r.last_val=n,r.sc.style.display="none"}},l(r,"keyup",r.keyupHandler),r.focusHandler=function(t){r.last_val="\n",r.keyupHandler(t)},e.minChars||l(r,"focus",r.focusHandler)}this.destroy=function(){for(var t=0;t<n.length;t++){var e=n[t];c(window,"resize",e.updateSC),c(e,"blur",e.blurHandler),c(e,"focus",e.focusHandler),c(e,"keydown",e.keydownHandler),c(e,"keyup",e.keyupHandler),e.autocompleteAttr?e.setAttribute("autocomplete",e.autocompleteAttr):e.removeAttribute("autocomplete"),document.body.removeChild(e.sc),e=null}}}function o(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function l(t,e,i){t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener(e,i)}function c(t,e,i){t.detachEvent?t.detachEvent("on"+e,i):t.removeEventListener(e,i)}function d(t,e,i,n){l(n||document,e,function(e){for(var n,a=e.target||e.srcElement;a&&!(n=o(a,t));)a=a.parentElement;n&&i.call(a,e)})}}({selector:'input[name="q"]',source:function(t,e){try{xhr.abort()}catch(t){}$.getJSON("/search/autocomplete/",{q:t},function(i){$.ajax("https://www.chainnews.com/api/news/autocomplete/",{jsonp:!0,success:function(t){var n=i.results.concat(t.results);e(n)},method:"GET",data:{q:t}})})}});var t=$(".input-cancel-btn");t.click(function(){$('input[name="q"]').val(""),t.css({display:"none"})});var e=document.querySelector('input[name="q"]'),i=document.querySelector(".logo-wrapper");$('input[name="q"]').keyup(function(){if(""==this.value)t.css({display:"none"});else{var n=e.getBoundingClientRect().right-i.getBoundingClientRect().left;t.css({display:"block",left:n-20,top:0})}})}}i.d(e,"a",function(){return c});class c{constructor(){this.header_price=new n({feed:window.app.price_feed,adapter:new s}),this.search=new l,new o}}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{constructor(){this.topLinkWrapper=$(".gotop-wrapper"),this.topLinkWrapper.length&&(this.setupWatcher(),this.topLinkWrapper.on("click",this.do_top.bind(this)))}do_top(){return $("html, body").animate({scrollTop:0},500),!1}setupWatcher(){$(window).scroll(this.onScroll.bind(this))}onScroll(){this.read&&fastdom.clear(this.read),this.read=fastdom.read(this.doRead.bind(this)),this.write&&fastdom.clear(this.write),this.write=fastdom.write(this.doWrite.bind(this))}doRead(){this.scrollTop=$(window).scrollTop(),this.topLinkWrapper.length&&(this.btnRect=this.topLinkWrapper[0].getBoundingClientRect()),this.content_rect=$("#content .container")[0].getBoundingClientRect(),this.footerRect=$("#footer")[0].getBoundingClientRect()}doWrite(){this.scrollTop&&(this.scrollTop>400?fastdom.write(this.show_top_link.bind(this)):fastdom.write(this.hide_top_link.bind(this)))}show_top_link(){this.content_rect.left,this.content_rect.width,this.topLinkWrapper.show()}hide_top_link(){this.topLinkWrapper.hide()}}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{constructor(){$("a[data-category]").click(this.track_click.bind(this))}track_click_bd(t){var e=$(t.target).attr("data-category"),i=$(t.target).attr("data-tag"),n=$(t.target).attr("data-site");window._hmt.push(["_trackEvent","link","click","category",e,"tag",i,"site",n])}track_click_gg(t){$(t.target).attr("data-category"),$(t.target).attr("data-tag");var e=$(t.target).attr("data-site");ga("send",{hitType:"event",eventCategory:"off_site_link",eventAction:"click",eventLabel:e,transport:"beacon"})}track_click(t){window._hmt&&this.track_click_bd(t),window.ga&&this.track_click_gg(t)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(2);class a extends n.a{is_in_24h(t){var e=this.get_entry_date(t);return this.first_date-e<=576e5}get_24h_entry(t){return this.first_date=this.get_entry_date(t[0]),_.filter(t,this.is_in_24h.bind(this))}get_entry_date(t){return 1e3*t.published_at}spit(){var t=this.get_24h_entry(this.data.results);return _.map(t,this.add_formatted_time.bind(this))}format_time(t){var e=Math.ceil(t/1e3);if(e<=60)return e+"秒前";var i=Math.ceil(e/60)-1;if(e>60&&e<=3600)return i+"分钟前";var n=Math.ceil(i/60)-1;if(n<=24)return n+"小时前";var a=Math.ceil(n/24)-1;if(a<=7)return a+"天前";var r=Math.ceil(a/7);if(a<=31)return r+"周前";var s=Math.ceil(a/30);if(a<=365)return s+"月前";var o=Math.ceil(a/365);return a>=366?o+"年前":void 0}add_formatted_time(t){var e=(new Date).getTimezoneOffset(),i=Date.now()+6e4*e-this.get_entry_date(t);return t.time_diff=this.format_time(i),t}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var a,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(a=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:n+r.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")})}},function(t,e,i){var n,a,r={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=n.apply(this,arguments)),a}),o=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),l=null,c=0,d=[],h=i(8);function u(t,e){for(var i=0;i<t.length;i++){var n=t[i],a=r[n.id];if(a){a.refs++;for(var s=0;s<a.parts.length;s++)a.parts[s](n.parts[s]);for(;s<n.parts.length;s++)a.parts.push(v(n.parts[s],e))}else{var o=[];for(s=0;s<n.parts.length;s++)o.push(v(n.parts[s],e));r[n.id]={id:n.id,refs:1,parts:o}}}}function p(t,e){for(var i=[],n={},a=0;a<t.length;a++){var r=t[a],s=e.base?r[0]+e.base:r[0],o={css:r[1],media:r[2],sourceMap:r[3]};n[s]?n[s].parts.push(o):i.push(n[s]={id:s,parts:[o]})}return i}function f(t,e){var i=o(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=d[d.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),d.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=o(t.insertInto+" "+t.insertAt.before);i.insertBefore(e,a)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function _(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),m(e,t.attrs),f(t,e),e}function m(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function v(t,e){var i,n,a,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var s=c++;i=l||(l=_(e)),n=y.bind(null,i,s,!1),a=y.bind(null,i,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),f(t,e),e}(e),n=function(t,e,i){var n=i.css,a=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&a;(e.convertToAbsoluteUrls||r)&&(n=h(n)),a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var s=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(s),o&&URL.revokeObjectURL(o)}.bind(null,i,e),a=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=_(e),n=function(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),a=function(){g(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else a()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=p(t,e);return u(i,e),function(t){for(var n=[],a=0;a<i.length;a++){var s=i[a];(o=r[s.id]).refs--,n.push(o)}for(t&&u(p(t,e),e),a=0;a<n.length;a++){var o;if(0===(o=n[a]).refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete r[o.id]}}}};var w,b=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function y(t,e,i,n){var a=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,a);else{var r=document.createTextNode(a),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i,n=t[1]||"",a=t[3];if(!a)return n;if(e&&"function"==typeof btoa){var r=(i=a,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),s=a.sources.map(function(t){return"/*# sourceURL="+a.sourceRoot+t+" */"});return[n].concat(s).concat([r]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},a=0;a<this.length;a++){var r=this[a][0];"number"==typeof r&&(n[r]=!0)}for(a=0;a<t.length;a++){var s=t[a];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),e.push(s))}},e}},function(t,e,i){(t.exports=i(10)(!1)).push([t.i,".autocomplete-suggestions {\n    text-align: left; cursor: default; border: 1px solid #ccc; border-top: 0; background: #fff; box-shadow: -1px 1px 3px rgba(0,0,0,.1);\n\n    /* core styles should not be changed */\n    position: absolute; display: none; z-index: 9999; max-height: 254px; overflow: hidden; overflow-y: auto; box-sizing: border-box;\n}\n.autocomplete-suggestion { position: relative; padding: 0 .6em; line-height: 23px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 1.02em; color: #333; }\n.autocomplete-suggestion b { font-weight: normal; color: #1f8dd6; }\n.autocomplete-suggestion.selected { background: #f0f0f0; }\n",""])},function(t,e,i){var n=i(11);"string"==typeof n&&(n=[[t.i,n,""]]);i(9)(n,{hmr:!0,transform:void 0,insertInto:void 0}),n.locals&&(t.exports=n.locals)},function(t,e,i){"use strict";var n=i(0),a=i(1);class r{constructor(t){_.defaults(this,a.a.prototype),this.options=t,this.interval=t.interval||5e3,this._running=!1}stop(){window.clearInterval(this._rid)}run(){this._running||(this._running=!0,this._run(),this.interval>0?this._rid=window.setInterval(this._run.bind(this),this.interval):this._running=!1)}_run(){this.data=this.options.data,this.request_success(this.data)}request_success(t){this.emit("data_arrive",t)}request_fail(t){this.emit("request_fail",t)}}var s=i(7);class o extends s.a{spit(){var t=_.map(this.data.results,this.add_formatted_time.bind(this));return _.map(t,this.add_time_title.bind(this))}add_time_title(t){var e=(new Date).getTimezoneOffset(),i=this.get_entry_date(t)-6e4*e,n=new Date(i),a=t.month=n.getMonth()+1,r=t.date=n.getDate(),s=t.year=n.getFullYear();return this.last_show_date==r&&this.last_show_month==a?t.show_time=!1:(t.show_time=!0,this.last_show_date=r,this.last_show_month=a),this.last_show_year==s?t.show_year=!1:(t.show_year=!0,this.last_show_year=s),t}}i.d(e,"a",function(){return l});class l{constructor(){this.$newsline=$(".newsline"),this.$newsline.length&&(this.template=_.template($("#newsline_template").html()),this.dataFeed=this.get_fake_feed({data:window.news_obj,interval:-1}),this.adapter=new o,this.dataFeed.run(),this.initLoadBtn())}get_feed(t){var e=new n.a(t);return e.on("data_arrive",this.handle_data.bind(this)),e.on("data_fail",this.handle_fail.bind(this)),e}get_fake_feed(t){var e=new r(t);return e.on("data_arrive",this.handle_data.bind(this)),e.on("data_fail",this.handle_fail.bind(this)),e}display_loading_info(){this.$loadBtn&&this.$loadBtn.length&&this.$loadBtn.html("加载中...")}hide_loading_info(){this.$loadBtn&&this.$loadBtn.length&&this.$loadBtn.html("加载更多")}load_next(){this.next_page_url&&(this.display_loading_info(),delete this.dataFeed,this.dataFeed=this.get_feed({url:this.next_page_url,method:"GET",interval:-1}),this.dataFeed.run())}initLoadBtn(){var t=this.$loadBtn=$(".btn-load-news");t.length&&t.on("click",this.load_next.bind(this))}hide_load_btn(){$(".btn-load-news").hide()}handle_data(t){this.next_page_url=this.get_next_page_url(t.next),this.next_page_url||this.hide_load_btn(),this.data_list=this.adapter.update(t).spit(),this.render(),this.hide_loading_info()}get_next_page_url(t){if(!t)return null;var e=document.createElement("a");return e.href=t,"/news/json/"+e.search}handle_fail(t){console.log("news data fail"),console.log(t),this.hide_loading_info()}remove_first_year(){$(".year-wrapper").addClass("shown-year"),$(".year-wrapper").first().removeClass("shown-year")}render(){_.map(this.data_list,this._render_item.bind(this)),this.remove_first_year()}_render_item(t){this.create_element(t)}create_element(t){t.tag_list||(t.tag_list=[]),this.$newsline.append($(this.template(t)))}}},function(t,e,i){"use strict";function n(){$(function(){$(".bookmarkme").click(function(){if(window.sidebar&&window.sidebar.addPanel)window.sidebar.addPanel(document.title,window.location.href,"");else if(window.external&&"AddFavorite"in window.external)window.external.AddFavorite(location.href,document.title);else{if(window.opera&&window.print)return this.title=document.title,!0;alert("请按下 "+(-1!=navigator.userAgent.toLowerCase().indexOf("mac")?"Command/Cmd":"CTRL")+" + D 来收藏本站。")}})})}i.d(e,"a",function(){return n})},,function(t,e,i){"use strict";i.r(e);var n=i(4),a=i(0);const r=[{name:"比特币上帝",ename:"Bitcoin God ",height:501225},{name:"比特币王者",ename:"BTC King ",height:499999}];var s=i(7);var o=i(3);class l{constructor(){this.setupScrollMenu()}setupScrollMenu(){$(window).scroll(this.schedulePriceMove.bind(this))}schedulePriceMove(){this.read||(this.read=fastdom.read(this._read.bind(this))),this.write&&fastdom.clear(this.write),this.write=fastdom.write(this._do_write.bind(this))}_read(){}_do_write(){this._write(),this.write=null,this.read=null}_write(){}}i(20);var c=_.sortBy(r,function(t){return t.height});c[0].height,c[0].name;var d=i(6),h=i(13),u=i(5),p=i(14);window.log=console.log,window.app={price_feed:new a.a({url:"https://api.coinmarketcap.com/v1/ticker/?limit=40&convert=CNY",method:"GET",interval:15e3})},new n.a,new class{constructor(){$("#search-news-btn").click(function(){var t=$('input[name="q"]').val().trim();return""===t?"/"!==location.pathname&&(location.href="/",!1):(window.location.href="/search/news/?q="+t,!1)})}},new class{constructor(){$(".fork-item").length&&(this.hide_text(),this.move_undecided_forks(),this.init_item_current_block().spread(this.handle_api_done.bind(this)).then(this.set_current_blocks.bind(this)).then(this.sort_incoming_forks.bind(this)).then(this.draw_count_down.bind(this)).then(this.draw_clocks.bind(this)).catch(this.handle_error.bind(this)))}draw_count_down(){$(".fork-item").each(this.draw_single_fork_item.bind(this))}draw_single_fork_item(t,e){var i=$(e).data("dead_line")-1;$(e).data({dead_line:i});var n=i<0,a=Math.floor(i/86400),r=Math.floor(i/3600)%24,s=Math.floor(i/60)%60,o=i%60;n?"0"==$(e).attr("data-fork-height")?($(".clockdiv",$(e)).html("分叉时间未定"),$(".fork-state",$(e)).removeClass("fork-incoming").removeClass("fork-passed").addClass("fork-unknown").html("时间未定"),$(".block-height .height-number",$(e)).html("未知")):($(".clockdiv",$(e)).html("完成分叉"),$(".fork-state",$(e)).removeClass("fork-incoming").addClass("fork-passed").html("完成分叉"),$(e).attr("data-fork-status","done")):($(".days",$(e)).html(a),$(".hours",$(e)).html(r),$(".minutes",$(e)).html(s),$(".seconds",$(e)).html(o))}get_deadline(t,e){var i=$(e).data("current_block");parseFloat($(e).attr("data-block-intervel")),$(e).data({dead_line:(e.dataset.forkHeight-i)*block_intervall})}draw_clocks(){setInterval(this.draw_count_down.bind(this),1e3)}get_block_fail(){console.log("fail getting block height")}hide_text(){$(".desc").each(function(){for(;$(this).height()>42;)$(this).text($(this).text().replace(/(\s)*([a-zA-Z0-9_]+|\W)(\.\.\.)?$/,"..."));$(this).height(42)})}get_api_list(){var t=[];return $(".fork-item").each(function(e,i){t.push($(i).attr("data-block-height-api"))}),_.uniq(t)}init_item_current_block(){return this._api_list=this.get_api_list(),Promise.all(_.map(this._api_list,function(t){return new Promise(function(e,i){$.ajax({url:t,method:"GET"}).done(e).fail(i)})}))}handle_error(t){console.log(t)}sort_incoming_forks(){var t=[].slice.call($('[data-fork-status="incoming"]'));t.sort(function(t,e){var i=+$(t).attr("data-fork-height"),n=($(t).data("current_block")-i)*+$(t).attr("data-block-intervel"),a=+$(e).attr("data-fork-height");return($(e).data("current_block")-a)*+$(e).attr("data-block-intervel")-n}),$(t).prependTo($(".fork-item").eq(0).parent())}set_item_current_block(t,e){var i,n,a,r=$(e).attr("data-block-height-api");return $(e).data({current_block:this.current_blocks[r]}),n=60*parseFloat($(e).attr("data-block-intervel")),i=(parseInt($(e).attr("data-fork-height"))-(a=$(e).data("current_block")))*n,$(e).data({dead_line:i}),$(e).find(".current-block-height .height-number").html(a),this}set_current_blocks(){return $(".fork-item").each(this.set_item_current_block.bind(this)),this}handle_api_done(t){var e=[].slice.call(arguments);return e=_.map(e,function(t){return _.isObject(t)?parseInt(t.count):parseInt(t)}),this.current_blocks=_.object(this._api_list,e)}move_undecided_forks(){var t=$("[data-fork-height='0']"),e=$("[data-fork-status='incoming']");if(t.length<=0||e.length<=0)return;let i=e[e.length-1];t.each(function(t,e){$(e).insertAfter($(i))})}},new class{constructor(){$(".eos-nodes").length&&(this.renderEos(),this.handleLoadBtn())}renderEos(){var t=this;$.when($.get("https://www.chainnews.com/api/eos/")).then(function(e){$(".loading-box").addClass("hidden-box"),t.loadMore=e.next,e.next&&$(".load-more-btn").removeClass("hidden-box");var i=_.template($("#eos-nodes-banner-template").html())({data:e.results.slice(0,3)});$(".eos-banner").html(i),t.list=_.template($("#eos-nodes-list-template").html()),t.listHTML=t.list({data:e.results.slice(3)}),$(".eos-list").html(t.listHTML)})}handleLoadBtn(){var t=this;$(".load-more-btn").click(function(){$(".load-more-btn").html("加载中...").blur(),$.when($.get(t.loadMore)).then(function(e){t.loadMore=e.next,e.next||$(".load-more-btn").addClass("hidden-box"),t.listHTML+=t.list({data:e.results}),$(".eos-list").html(t.listHTML),$(".load-more-btn").html("加载更多")})})}},new class{constructor(){if($(".eos-detail").length){var t=location.href.match(/\/(\d+)\.htm/)[1],e=this;$.when($.ajax("https://www.chainnews.com/api/eos/"+t)).then(function(t){var i=new showdown.Converter;t.desc=i.makeHtml(t.desc);var n=_.template($("#eos-detail-template").html())({item:t});$(".eos-detail").html(n),$(".loading-box").addClass("hidden-box"),e.generateMap($("a.location").text())})}}generateMap(t){var e=window.google;(new e.maps.Geocoder).geocode({address:t},function(i,n){if(n==e.maps.GeocoderStatus.OK){var a={zoom:6,center:i[0].geometry.location,mapTypeId:e.maps.MapTypeId.ROADMAP},r=new e.maps.Map(document.getElementById("map-container"),a);new e.maps.Marker({position:i[0].geometry.location,map:r,title:t})}})}},new class{constructor(){$("#id_web_site").after('<div class="url-error">网址不合法</div>').parent("div").css("position","relative"),$(".url-error").hide(),$("#id_web_site").on("blur",function(){var t=location.protocol+"//"+location.host+"/tools/site/?url="+$(this).val();/^(http|https):\/\/([a-zA-Z0-9]+.)+[a-zA-Z0-9]+(\/.+)*\/?$/.test($(this).val())?($(".url-error").hide(),$.getJSON(t,function(t){$("#id_cname").val(t.title),$("#id_description").val(t.description)})):$(".url-error").show()})}},new class{constructor(){if($(".coin-name-sidebar").length){r.sort(function(t,e){return t.height-e.height});var t=600;a()}function e(e){for(var a=parseInt(e),s=[],o=0;o<r.length;o++){var l=r[o].height;s.push(new Date(Date.parse(new Date)+i(a,l,t)))}$(".clockdiv").length&&n("clockdiv",s,a),$(".top_clockdiv").length&&(n("top_clockdiv",s,a),$(".top_clockdiv .target_block_count").html(r[0].height),$(".coin-name-sidebar").html(r[0].name+"&nbsp;"+r[0].ename))}function i(t,e,i){return(e-t)*i*1e3}function n(t,e,i){function n(){for(var i=document.getElementsByClassName(t),n=0,a=i.length;n<a;n++)if(!s(i[n],e,n))return}function s(t,e,i){var n=t.querySelector(".days"),s=t.querySelector(".hours"),l=t.querySelector(".minutes"),c=t.querySelector(".seconds"),d=function(t){var e=Date.parse(t)-Date.parse(new Date),i=Math.floor(e/1e3%60),n=Math.floor(e/1e3/60%60),a=Math.floor(e/36e5%24);return{total:e,days:Math.floor(e/864e5),hours:a,minutes:n,seconds:i}}(e[i]);return d.total<=0?(r.splice(i,1),clearInterval(o),a(),!1):(n.innerHTML=d.days,s.innerHTML=(""+d.hours).slice(-2),l.innerHTML=("0"+d.minutes).slice(-2),c.innerHTML=("0"+d.seconds).slice(-2),!0)}$(".current_block_count").each(function(t,e){$(e).html(i)}),n();var o=setInterval(n,1e3)}function a(){if($("#btc-countdown-tpl").length){var t=_.template($("#btc-countdown-tpl").html())({list:r});$("#btc-countdown").html(t)}var i;i=e,$.ajax({url:"https://blockchain.info/q/getblockcount",success:i})}}},new class{constructor(){this.newsFeed=new a.a({url:"https://api.chainnews.com/api/news.json",method:"GET",interval:-1}),this.news=new class{constructor(t){if(this.$news_list=$(".news-list"),this.$news_list.length){if(this.template=_.template($("#news_template").html()),!t.feed)throw Error("can not init a price app without a feed");if(!t.adapter)throw Error("need adapter to goon");this.dataFeed=t.feed,this.dataFeed.on("data_arrive",this.handle_data.bind(this)),this.dataFeed.on("data_fail",this.handle_fail.bind(this)),this.adapter=t.adapter,this.setupTitleClick()}}handle_title_click(t){$(t.currentTarget).parent().find(".news-content").toggleClass("hidden")}setupTitleClick(){this.$news_list.on("click",".news-title",this.handle_title_click.bind(this))}handle_data(t){t.results=t.results.slice(0,6),this.data_list=this.adapter.update(t).spit(),this.render()}handle_fail(t){console.log("news data fail"),console.log(t)}render(){_.map(this.data_list,this._render_item.bind(this))}_render_item(t){this.create_element(t)}create_element(t){this.$news_list.append($(this.template(t)))}}({feed:this.newsFeed,adapter:new s.a}),this.newsFeed.run(),new class{constructor(t){if(this.$coin_list=$("#coin_list"),this.$coin_list.length){if(this.tempalte=_.template($("#coin_template").html()),!t.feed)throw Error("can not init a price app without a feed");if(this.dataFeed=t.feed,this.dataFeed.on("data_arrive",this.handle_data.bind(this)),this.dataFeed.on("data_fail",this.handle_fail.bind(this)),!t.adapter)throw Error("need adapter to goon");this.adapter=t.adapter}}handle_data(t){this.data_list=this.adapter.update(t).spit(),this.render()}handle_fail(t){console.log("price data fail"),console.log(t)}render(){_.map(this.data_list,this._render_item.bind(this))}update_element(t,e){var i=e.change_class;$(t).find(".coin-price").removeClass("fail raise").addClass(i).html(e.price_cny),$(t).find(".coin-change").removeClass("fail raise").addClass(i).html(e.change_percent)}create_element(t){this.$coin_list.append($(this.tempalte(t)))}_render_item(t){var e=this.$coin_list.find("#"+t.id);e.length?this.update_element(e,t):this.create_element(t)}}({feed:window.app.price_feed,adapter:new o.a}),new class extends l{constructor(){super(),this.get_target()&&(this.origin_width=this.get_box().getBoundingClientRect().width,this.get_target_height(),$(this.get_target()).css({width:this.origin_width+"px"}),this.hide_target(),this.stickySidebarInitStatus=!1)}get_target_height(){this.target_height||(this.target_height=this.get_target().getBoundingClientRect().height)}hide_target(){$(this.get_target()).addClass("hidden")}get_footer(){return document.getElementById("footer")}get_box(){return document.getElementById("side_bar_bottom")}get_target(){return document.getElementById("scroll_target")}get_touch_bottom(){var t=this.get_footer().getBoundingClientRect(),e=this.get_target().getBoundingClientRect();return t.top<=e.top+e.height+10}_read(){var t=this.get_box().getBoundingClientRect();this.top_distance=this.get_footer().getBoundingClientRect().top,this.top=t.top+t.height,this.touch_bottom=this.get_touch_bottom()}_write(){this.top<0&&this.top_distance>this.target_height+50?($("#sidebar_default").addClass("sidebar_default_sticky_hook"),$(this.get_target()).removeClass("hidden").addClass("static-box"),!1===this.stickySidebarInitStatus&&($("#sidebar_sticky_area").stickySidebar({containerSelector:"#content",innerWrapperSelector:"#scroll_target",topSpacing:60,bottomSpacing:20}),this.stickySidebarInitStatus)):($(this.get_target()).removeClass("static-box"),$(this.get_target()).addClass("hidden").removeClass("static-box"))}},new class{constructor(){console.log("init tag cloud"),this.$el=$(".sidebar-tag-list-wrapper"),$("#news_tag_template").length&&this.$el.length&&(this._template=_.template($("#news_tag_template").html()),this.init_tag_request())}handle_data(t){t.tags=t.tags.slice(0,40),this.$el.append($(this._template(t)))}init_tag_request(){$.when($.ajax({url:"https://api.chainnews.com/api/news/tags/",method:"GET"})).then(this.handle_data.bind(this))}render(){this.$el.jQCloud(this.tag_list)}}}},new d.a,new h.a,new class{constructor(){$("#tokenlang-charts-container").length&&(this.isSend=!1,this.keyword="",this.loading_wrapper=$(".loading-wrapper"),this.send_ajax(),this.keydown_search(),this.click_search())}keydown_search(){$(".tokenlang-search-input").on("keydown",this.do_search.bind(this))}click_search(){$(".tokenlang-search-button").on("click",this.do_click_search.bind(this))}do_search(t){13!=t.which||this.isSend||(this.get_inputval(),this.send_ajax())}do_click_search(){this.isSend||(this.get_inputval(),this.send_ajax())}get_inputval(){this.keyword=$(".tokenlang-search-input").val()}send_ajax(){this.isSend=!0,this.keyword=this.keyword||"bitcoin",$.ajax({url:"https://api.github.com/search/repositories?q="+this.keyword+"&sort=forks&order=desc&per_page=100",type:"get",beforeSend:this.beforeSend.bind(this)}).done(this.get_data_success.bind(this)).fail(this.get_data_fail.bind(this))}beforeSend(){$("#tokenlang-charts-container").hide(),this.loading_wrapper.show()}get_data_success(t){var e=this.clean_date(t.items);this.generate_charts(e),this.isSend=!1}get_data_fail(t){console.log(t)}clean_date(t){var e=[{Others:0}],i=this;t.forEach(function(t){if(t.language){var n=!1;if(e.forEach(function(e,i,a){for(var r in e)r==t.language&&(n=!0,a[i][r]+=1)}),!n){var a={};a[t.language]=1,e.unshift(a)}}else e.forEach(i.increase_others_count)});var n=this.sort_dic(e);return this.get_lang_obj(n)}increase_others_count(t,e,i){for(var n in t)"Others"==n&&(i[e].Others+=1)}sort_dic(t){for(var e=this.pop_others(t),i=(t=e.langarr,e.others_obj),n=0;n<t.length-1;n++)for(var a=0;a<t.length-1-n;a++)for(var r in t[a])for(var s in t[a+1])if(t[a][r]<t[a+1][s]){var o=t[a];t[a]=t[a+1],t[a+1]=o}return t.push(i),t}pop_others(t){for(var e=[],i={},n=0;n<t.length;n++)for(var a in t[n])"Others"!=a?e.push(t[n]):i=t[n];return{others_obj:i,langarr:e}}get_lang_obj(t){for(var e={cate:[],count:[]},i=0;i<t.length;i++)for(var n in t[i])e.cate.push(n),e.count.push(t[i][n]);return e}formit_keyword(){this.keyword=this.keyword.slice(0,1).toUpperCase()+this.keyword.slice(1).toLowerCase()}generate_charts(t){this.formit_keyword(),$("#tokenlang-charts-container").highcharts({chart:{type:"bar",height:600},title:{text:this.keyword},xAxis:{categories:t.cate,allowDecimals:!1},yAxis:{min:0,title:{text:""},allowDecimals:!1},legend:{reversed:!0},plotOptions:{series:{stacking:"normal",allowPointSelect:!0}},credits:{enabled:!1},series:[{name:"数量",data:t.count}]}),this.loading_wrapper.hide(),$("#tokenlang-charts-container").show()}},new class{constructor(){if($("#ajax-news-content").length){var t="",e="",i="",n=_.template($("#search_news_template").html()),a=function(t){0==t.count?r():s(t)},r=function(){console.log("recommendation"),$.getJSON("https://www.chainnews.com/api/news/recommendation?t="+t,s)},s=function(a){e+=n(a),$("#ajax-news-content .box-body").html(e),$("#ajax-news-content .box-header").html('含「<span class="query-word">'+t+"</span>」的搜索结果约 "+a.count+" 条"),a.next&&($("#ajax-news-content .box-footer").css("display","block"),i=a.next)};t=decodeURI(location.href.replace(/^https?:\/\/.*?q=/,"")),$("#ajax-news-content .box-header").html('含「<span class="query-word">'+t+"</span>」的搜索结果约  条"),$('input[name="q"]').attr("value",t),$("#ajax-news-content .box-footer button").click(function(){var t=i;if(!t)return!1;var e=$(this);e.html('<i class="fa fa-spinner" aria-hidden="true"></i>'),$.ajax({method:"GET",url:t,jsonp:!0,success:function(t){a(t),e.html("加载更多").trigger("blur")}})}),$.ajax({method:"GET",url:"https://api.chainnews.com/api/news/search.json?q="+t,data:{},jsonp:"true",success:a.bind(this)}),console.log("fuck+++")}}},new class{constructor(){if($(".shareimg").length&&$(".newsline").on("click",".shareimg",function(t){var e=$(t.currentTarget).parents(".entry"),n=e.html().replace(/style="display:none"/g,"");n+=$("#rasterize-style").html(),e.find("i.shareimg-loading").css("display","inline-block"),rasterizeHTML.drawHTML(n).then(function(t){i(t.image,"png",function(t){var i=$(".news-title",e).html().trim();$('<a class="download-img"></a>').attr("href",t).attr("download",i).appendTo(".news-info",e);var n=document.querySelector(".download-img");n.click(),$(n).remove(),e.find("i.shareimg-loading").css("display","none")})})}),$(".daily-quote").length){var t=$("#daily-quote-template").text(),e=_.template(t);$(".render-img").on("click",function(t){var n,a,r,s,o,l,c=(a=(n=new Date).getMonth()+1,r=["日","一","二","三","四","五","六"][n.getDay()],s=["SUN","MON","TUE","WED","THU","FRI","SAT"][n.getDay()],o=function(t){var e=new Date(t.getFullYear(),0,1).getTime(),i=(t.getTime()-e)/1e3/60/60;return("00"+Math.ceil(i/24)).slice(-3)}(n),l=function(t){var e,i,n=["腊","正","二","三","四","五","六","七","八","九","十","冬","腊"],a=["","一","二","三","四","五","六","七","八","九","十"],r=lunar.toLunar(t);switch(!0){case r.lunarDay<11:e=a[r.lunarDay];break;case r.lunarDay<21:e="十"+a[r.lunarDay%10];break;case r.lunarDay<30:e="廿"+a[r.lunarDay%20];break;default:e="三十"}return e=("初"+e).slice(-2),i=r.isLeap?"润"+n[r.lunarMonth]+"月":n[r.lunarMonth]+"月",0===r.lunarDay&&(i=n[r.lunarMonth-1]+"月",e="三十"),i+e}(n),{year:n.getFullYear(),month:a,enday:s,date:("0"+n.getDate()).slice(-2),zhday:r,zhdate:l,a:o[0],b:o[1],c:o[2]});c.author=$(t.target).parent().parent().find(".person").text(),c.desc=$(t.target).parent().parent().find(".quote").text(),rasterizeHTML.drawHTML(e({data:c})).then(function(t){i(t.image,"png",function(t){var e=c.desc;$('<a class="download-img"></a>').attr("href",t).attr("download",e).appendTo("body");var i=document.querySelector(".download-img");i.click(),$(i).remove()})})})}function i(t,e,i){e=e||"png";var n=document.createElement("canvas"),a=n.getContext("2d");n.width=t.width,n.height=t.height;var r=new Image;r.onload=function(){a.clearRect(0,0,t.width,t.height),a.drawImage(r,0,0,t.width,t.height);var s=n.toDataURL("image/"+e,.8);i(s)},r.src=t.src}}},new class{constructor(){if($(".news-line-wrapper .tag-list-filter-list").length){$(".news-line-wrapper .tag-list-filter-list").prepend('<a class="trigger-btn"><i class="fa fa-sort-down" aria-hidden="true"></i></a>');var t=$("a.trigger-btn"),e=$(".news-line-wrapper .tag-list-filter-list i"),i=$(".news-line-wrapper ul.tag-list-filter-list");t.on("click",function(){i.toggleClass("tag-list-filter-list-hide"),e.toggleClass("icon-rotate")})}}},new u.a,Object(p.a)(),console.log("test"),app.price_feed.run()},,,function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){(function(e){var i;i=function(){"use strict";function t(t){return t&&t.__esModule?t.default:t}function i(t,e){return t(e={exports:{}},e.exports),e.exports}"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var n=i(function(t,e){!function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),i=function(){var t=".stickySidebar",i={topSpacing:0,bottomSpacing:0,containerSelector:!1,innerWrapperSelector:".inner-wrapper-sticky",stickyClass:"is-affixed",resizeSensor:!0,minWidth:!1};return function(){function n(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.options=n.extend(i,a),this.sidebar="string"==typeof t?document.querySelector(t):t,void 0===this.sidebar)throw new Error("There is no specific sidebar element.");this.sidebarInner=!1,this.container=this.sidebar.parentElement,this.affixedType="STATIC",this.direction="down",this.support={transform:!1,transform3d:!1},this._initialized=!1,this._reStyle=!1,this._breakpoint=!1,this.dimensions={translateY:0,maxTranslateY:0,topSpacing:0,lastTopSpacing:0,bottomSpacing:0,lastBottomSpacing:0,sidebarHeight:0,sidebarWidth:0,containerTop:0,containerHeight:0,viewportHeight:0,viewportTop:0,lastViewportTop:0},["handleEvent"].forEach(function(t){e[t]=e[t].bind(e)}),this.initialize()}return e(n,[{key:"initialize",value:function(){var t=this;if(this._setSupportFeatures(),this.options.innerWrapperSelector&&(this.sidebarInner=this.sidebar.querySelector(this.options.innerWrapperSelector),null===this.sidebarInner&&(this.sidebarInner=!1)),!this.sidebarInner){var e=document.createElement("div");for(e.setAttribute("class","inner-wrapper-sticky"),this.sidebar.appendChild(e);this.sidebar.firstChild!=e;)e.appendChild(this.sidebar.firstChild);this.sidebarInner=this.sidebar.querySelector(".inner-wrapper-sticky")}if(this.options.containerSelector){var i=document.querySelectorAll(this.options.containerSelector);if((i=Array.prototype.slice.call(i)).forEach(function(e,i){e.contains(t.sidebar)&&(t.container=e)}),!i.length)throw new Error("The container does not contains on the sidebar.")}"function"!=typeof this.options.topSpacing&&(this.options.topSpacing=parseInt(this.options.topSpacing)||0),"function"!=typeof this.options.bottomSpacing&&(this.options.bottomSpacing=parseInt(this.options.bottomSpacing)||0),this._widthBreakpoint(),this.calcDimensions(),this.stickyPosition(),this.bindEvents(),this._initialized=!0}},{key:"bindEvents",value:function(){window.addEventListener("resize",this,{passive:!0,capture:!1}),window.addEventListener("scroll",this,{passive:!0,capture:!1}),this.sidebar.addEventListener("update"+t,this),this.options.resizeSensor&&"undefined"!=typeof ResizeSensor&&(new ResizeSensor(this.sidebarInner,this.handleEvent),new ResizeSensor(this.container,this.handleEvent))}},{key:"handleEvent",value:function(t){this.updateSticky(t)}},{key:"calcDimensions",value:function(){if(!this._breakpoint){var t=this.dimensions;t.containerTop=n.offsetRelative(this.container).top,t.containerHeight=this.container.clientHeight,t.containerBottom=t.containerTop+t.containerHeight,t.sidebarHeight=this.sidebarInner.offsetHeight,t.sidebarWidth=this.sidebarInner.offsetWidth,t.viewportHeight=window.innerHeight,t.maxTranslateY=t.containerHeight-t.sidebarHeight,this._calcDimensionsWithScroll()}}},{key:"_calcDimensionsWithScroll",value:function(){var t=this.dimensions;t.sidebarLeft=n.offsetRelative(this.sidebar).left,t.viewportTop=document.documentElement.scrollTop||document.body.scrollTop,t.viewportBottom=t.viewportTop+t.viewportHeight,t.viewportLeft=document.documentElement.scrollLeft||document.body.scrollLeft,t.topSpacing=this.options.topSpacing,t.bottomSpacing=this.options.bottomSpacing,"function"==typeof t.topSpacing&&(t.topSpacing=parseInt(t.topSpacing(this.sidebar))||0),"function"==typeof t.bottomSpacing&&(t.bottomSpacing=parseInt(t.bottomSpacing(this.sidebar))||0),"VIEWPORT-TOP"===this.affixedType?t.topSpacing<t.lastTopSpacing&&(t.translateY+=t.lastTopSpacing-t.topSpacing,this._reStyle=!0):"VIEWPORT-BOTTOM"===this.affixedType&&t.bottomSpacing<t.lastBottomSpacing&&(t.translateY+=t.lastBottomSpacing-t.bottomSpacing,this._reStyle=!0),t.lastTopSpacing=t.topSpacing,t.lastBottomSpacing=t.bottomSpacing}},{key:"isSidebarFitsViewport",value:function(){return this.dimensions.sidebarHeight<this.dimensions.viewportHeight}},{key:"observeScrollDir",value:function(){var t=this.dimensions;if(t.lastViewportTop!==t.viewportTop){var e="down"===this.direction?Math.min:Math.max;t.viewportTop===e(t.viewportTop,t.lastViewportTop)&&(this.direction="down"===this.direction?"up":"down")}}},{key:"getAffixType",value:function(){this._calcDimensionsWithScroll();var t=this.dimensions,e=t.viewportTop+t.topSpacing,i=this.affixedType;return e<=t.containerTop||t.containerHeight<=t.sidebarHeight?(t.translateY=0,i="STATIC"):i="up"===this.direction?this._getAffixTypeScrollingUp():this._getAffixTypeScrollingDown(),t.translateY=Math.max(0,t.translateY),t.translateY=Math.min(t.containerHeight,t.translateY),t.translateY=Math.round(t.translateY),t.lastViewportTop=t.viewportTop,i}},{key:"_getAffixTypeScrollingDown",value:function(){var t=this.dimensions,e=t.sidebarHeight+t.containerTop,i=t.viewportTop+t.topSpacing,n=t.viewportBottom-t.bottomSpacing,a=this.affixedType;return this.isSidebarFitsViewport()?t.sidebarHeight+i>=t.containerBottom?(t.translateY=t.containerBottom-e,a="CONTAINER-BOTTOM"):i>=t.containerTop&&(t.translateY=i-t.containerTop,a="VIEWPORT-TOP"):t.containerBottom<=n?(t.translateY=t.containerBottom-e,a="CONTAINER-BOTTOM"):e+t.translateY<=n?(t.translateY=n-e,a="VIEWPORT-BOTTOM"):t.containerTop+t.translateY<=i&&0!==t.translateY&&t.maxTranslateY!==t.translateY&&(a="VIEWPORT-UNBOTTOM"),a}},{key:"_getAffixTypeScrollingUp",value:function(){var t=this.dimensions,e=t.sidebarHeight+t.containerTop,i=t.viewportTop+t.topSpacing,n=t.viewportBottom-t.bottomSpacing,a=this.affixedType;return i<=t.translateY+t.containerTop?(t.translateY=i-t.containerTop,a="VIEWPORT-TOP"):t.containerBottom<=n?(t.translateY=t.containerBottom-e,a="CONTAINER-BOTTOM"):this.isSidebarFitsViewport()||t.containerTop<=i&&0!==t.translateY&&t.maxTranslateY!==t.translateY&&(a="VIEWPORT-UNBOTTOM"),a}},{key:"_getStyle",value:function(t){if(void 0!==t){var e={inner:{},outer:{}},i=this.dimensions;switch(t){case"VIEWPORT-TOP":e.inner={position:"fixed",top:i.topSpacing,left:i.sidebarLeft-i.viewportLeft,width:i.sidebarWidth};break;case"VIEWPORT-BOTTOM":e.inner={position:"fixed",top:"auto",left:i.sidebarLeft,bottom:i.bottomSpacing,width:i.sidebarWidth};break;case"CONTAINER-BOTTOM":case"VIEWPORT-UNBOTTOM":var a=this._getTranslate(0,i.translateY+"px");e.inner=a?{transform:a}:{position:"absolute",top:i.translateY,width:i.sidebarWidth}}switch(t){case"VIEWPORT-TOP":case"VIEWPORT-BOTTOM":case"VIEWPORT-UNBOTTOM":case"CONTAINER-BOTTOM":e.outer={height:i.sidebarHeight,position:"relative"}}return e.outer=n.extend({height:"",position:""},e.outer),e.inner=n.extend({position:"relative",top:"",left:"",bottom:"",width:"",transform:""},e.inner),e}}},{key:"stickyPosition",value:function(e){if(!this._breakpoint){e=this._reStyle||e||!1;var i=this.getAffixType(),a=this._getStyle(i);if((this.affixedType!=i||e)&&i){var r="affix."+i.toLowerCase().replace("viewport-","")+t;for(var s in n.eventTrigger(this.sidebar,r),"STATIC"===i?n.removeClass(this.sidebar,this.options.stickyClass):n.addClass(this.sidebar,this.options.stickyClass),a.outer){var o="number"==typeof a.outer[s]?"px":"";this.sidebar.style[s]=a.outer[s]+o}for(var l in a.inner){var c="number"==typeof a.inner[l]?"px":"";this.sidebarInner.style[l]=a.inner[l]+c}var d="affixed."+i.toLowerCase().replace("viewport-","")+t;n.eventTrigger(this.sidebar,d)}else this._initialized&&(this.sidebarInner.style.left=a.inner.left);this.affixedType=i}}},{key:"_widthBreakpoint",value:function(){window.innerWidth<=this.options.minWidth?(this._breakpoint=!0,this.affixedType="STATIC",this.sidebar.removeAttribute("style"),n.removeClass(this.sidebar,this.options.stickyClass),this.sidebarInner.removeAttribute("style")):this._breakpoint=!1}},{key:"updateSticky",value:function(){var t,e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._running||(this._running=!0,t=i.type,requestAnimationFrame(function(){switch(t){case"scroll":e._calcDimensionsWithScroll(),e.observeScrollDir(),e.stickyPosition();break;case"resize":default:e._widthBreakpoint(),e.calcDimensions(),e.stickyPosition(!0)}e._running=!1}))}},{key:"_setSupportFeatures",value:function(){var t=this.support;t.transform=n.supportTransform(),t.transform3d=n.supportTransform(!0)}},{key:"_getTranslate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.support.transform3d?"translate3d("+t+", "+e+", "+i+")":!!this.support.translate&&"translate("+t+", "+e+")"}},{key:"destroy",value:function(){window.removeEventListener("resize",this,{capture:!1}),window.removeEventListener("scroll",this,{capture:!1}),this.sidebar.classList.remove(this.options.stickyClass),this.sidebar.style.minHeight="",this.sidebar.removeEventListener("update"+t,this);var e={inner:{},outer:{}};for(var i in e.inner={position:"",top:"",left:"",bottom:"",width:"",transform:""},e.outer={height:"",position:""},e.outer)this.sidebar.style[i]=e.outer[i];for(var n in e.inner)this.sidebarInner.style[n]=e.inner[n];this.options.resizeSensor&&"undefined"!=typeof ResizeSensor&&(ResizeSensor.detach(this.sidebarInner,this.handleEvent),ResizeSensor.detach(this.container,this.handleEvent))}}],[{key:"supportTransform",value:function(t){var e=!1,i=t?"perspective":"transform",n=i.charAt(0).toUpperCase()+i.slice(1),a=document.createElement("support").style;return(i+" "+["Webkit","Moz","O","ms"].join(n+" ")+n).split(" ").forEach(function(t,i){if(void 0!==a[t])return e=t,!1}),e}},{key:"eventTrigger",value:function(t,e,i){try{var n=new CustomEvent(e,{detail:i})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i)}t.dispatchEvent(n)}},{key:"extend",value:function(t,e){var i={};for(var n in t)void 0!==e[n]?i[n]=e[n]:i[n]=t[n];return i}},{key:"offsetRelative",value:function(t){var e={left:0,top:0};do{var i=t.offsetTop,n=t.offsetLeft;isNaN(i)||(e.top+=i),isNaN(n)||(e.left+=n),t="BODY"===t.tagName?t.parentElement:t.offsetParent}while(t);return e}},{key:"addClass",value:function(t,e){n.hasClass(t,e)||(t.classList?t.classList.add(e):t.className+=" "+e)}},{key:"removeClass",value:function(t,e){n.hasClass(t,e)&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}},{key:"defaults",get:function(){return i}}]),n}()}();
/**
       * Sticky Sidebar JavaScript Plugin.
       * @version 3.3.1
       * @author Ahmed Bouhuolia <a.bouhuolia@gmail.com>
       * @license The MIT License (MIT)
       */t.default=i,window.StickySidebar=i}(e)});return t(n),t(i(function(t,e){var i,a;a=(i=n)&&i.__esModule?i:{default:i},function(){if("undefined"!=typeof window){var t=window.$||window.jQuery||window.Zepto;if(t){t.fn.stickySidebar=function(e){return this.each(function(){var i=t(this),n=t(this).data("stickySidebar");if(n||(n=new a.default(this,"object"==typeof e&&e),i.data("stickySidebar",n)),"string"==typeof e){if(void 0===n[e]&&-1===["destroy","updateSticky"].indexOf(e))throw new Error('No method named "'+e+'"');n[e]()}})},t.fn.stickySidebar.Constructor=a.default;var e=t.fn.stickySidebar;t.fn.stickySidebar.noConflict=function(){return t.fn.stickySidebar=e,this}}}}()}))},t.exports=i()}).call(this,i(19))}]);